<html>

    <head>
        <title>TecMenta Meet</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>
        <h1 class="title">TechMenta Meet</h1>
        <p id="notification" hidden></p>
        <div class="entry-modal" id="entry-modal">
            <p>Create or Join Meeting</p>
            <input id="room-input" class="room-input" placeholder="Enter Room ID">
            <div>
                <button onclick="createRoom()">Create Room</button>
                <button onclick="joinRoom()">Join Room</button>
            </div>
            <h1 style = "text-align: center;">Screen Share</h1>
        <p><button id="start">Start Capture</button>
            <button id="stop">Stop Capture</button></p>
            <video id="video" autoplay></video>
            <script>
                const videoElem = document.getElementById("video");
                
                const startElem = document.getElementById("start");
                const stopElem = document.getElementById("stop");
                var displayMediaOptions = {
                video: {
                  cursor: "always"
                },
                audio: false
              };
              // Set event listeners for the start and stop buttons
             startElem.addEventListener("click", function(evt) {
              startCapture();
              }, false);

              stopElem.addEventListener("click", function(evt) {
                stopCapture();
               }, false);
               async function startCapture() {
  

              try {
                videoElem.srcObject = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
    
                      } catch(err) {
                       console.error("Error: " + err);
                                }
                                    }

               function stopCapture(evt) {
                 let tracks = videoElem.srcObject.getTracks();

                    tracks.forEach(track => track.stop());
                         videoElem.srcObject = null;
                                           }




</script>
        </div>
        
        <div class="meet-area">
            <!-- Remote Video Element-->
            <video id="remote-video"></video>

            <!-- Local Video Element-->
            <video id="local-video"></video>
        </div>
    </body>

    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script src="script.js"></script>

</html>